{% extends "base.html" %}
{% block title %}Editar Asignación{% endblock %}
{% block content %}
<h1>Editar Asignación</h1>
<p class="text-muted">Modifica el curso, la materia o el docente asignado.</p>

<form method="POST">
    <div class="row">
        <div class="col-md-4 mb-3">
            <label for="id_curso" class="form-label">Curso</label>
            <select class="form-select" name="id_curso" required>
                {% for curso in cursos %}
                <option value="{{ curso.id_curso }}" 
                        {% if curso.id_curso == asignacion.id_curso %}selected{% endif %}>
                    {{ curso.grado_rel.nombre }} - Paralelo "{{ curso.grado_rel.paralelo }}" ({{ curso.gestion_rel.anio }})
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-4 mb-3">
            <label for="id_materia" class="form-label">Materia</label>
            <select class="form-select" name="id_materia" required>
                {% for materia in materias %}
                <option value="{{ materia.id_materia }}" 
                        {% if materia.id_materia == asignacion.id_materia %}selected{% endif %}>
                    {{ materia.nombre }}
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-4 mb-3">
            <label for="id_docente" class="form-label">Docente</label>
            <select class="form-select" name="id_docente" required>
                {% for docente in docentes %}
                <option value="{{ docente.id_docente }}" 
                        {% if docente.id_docente == asignacion.id_docente %}selected{% endif %}>
                    {{ docente.nombre }} {{ docente.paterno }}
                </option>
                {% endfor %}
            </select>
        </div>
    </div>
    <button type="submit" class="btn btn-success">Guardar Cambios</button>
    <a href="{{ url_for('admin.listar_asignaciones') }}" class="btn btn-secondary">Cancelar</a>
</form>
{% endblock %}