{% extends "base.html" %}
{% block title %}Editar Estudiante{% endblock %}
{% block content %}
<h1>Editar Estudiante</h1>
<form method="POST">
    <h4>Datos Personales</h4>
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="ci" class="form-label">C.I.</label>
            <input type="text" class="form-control" name="ci" value="{{ estudiante.ci }}" required>
        </div>
        <div class="col-mb-6 mb-3">
            <label for="expedicion" class="form-label">Expedición</label>
            <input type="text" class="form-control" id="expedicion" name="expedicion"
                value="{{ estudiante.expedicion or '' }}">
        </div>
        <div class="col-md-6 mb-3">
            <label for="nombre" class="form-label">Nombre</label>
            <input type="text" class="form-control" name="nombre" value="{{ estudiante.nombre }}" required>
        </div>
        <div class="col-md-6 mb-3">
            <label for="paterno" class="form-label">Apellido Paterno</label>
            <input type="text" class="form-control" name="paterno" value="{{ estudiante.paterno }}" required>
        </div>
        <div class="col-md-6 mb-3">
            <label for="materno" class="form-label">Apellido Materno</label>
            <input type="text" class="form-control" name="materno" value="{{ estudiante.materno }}">
        </div>
        <div class="mb-3">
            <label for="materno" class="form-label">Apellido Materno</label>
            <input type="text" class="form-control" id="materno" name="materno" value="{{ estudiante.materno or '' }}">
        </div>
        <div class="mb-3">
            <label for="fecha_nac" class="form-label">Fecha de Nacimiento</label>
            <input type="date" class="form-control" id="fecha_nac" name="fecha_nac"
                value="{{ estudiante.fecha_nac.strftime('%Y-%m-%d') if estudiante.fecha_nac else '' }}">
        </div>
        <div class="mb-3">
            <label for="genero" class="form-label">Género</label>
            <select class="form-select" id="genero" name="genero">
                <option value="">Seleccionar...</option>
                <option value="MASCULINO" {% if estudiante.genero=='MASCULINO' %}selected{% endif %}>Masculino</option>
                <option value="FEMENINO" {% if estudiante.genero=='FEMENINO' %}selected{% endif %}>Femenino</option>
                <option value="OTRO" {% if estudiante.genero=='OTRO' %}selected{% endif %}>Otro</option>
            </select>
        </div>
    </div>
    <div class="col-md-6">
        <h4>Datos de Contacto y Usuario</h4>
        <div class="mb-3">
            <label for="direccion" class="form-label">Dirección</label>
            <input type="text" class="form-control" id="direccion" name="direccion"
                value="{{ estudiante.direccion or '' }}">
        </div>
        <div class="mb-3">
            <label for="nombre_padre" class="form-label">Nombre del Padre/Tutor</label>
            <input type="text" class="form-control" id="nombre_padre" name="nombre_padre"
                value="{{ estudiante.nombre_padre or '' }}">
        </div>
        <div class="mb-3">
            <label for="telefono_padre" class="form-label">Teléfono del Padre/Tutor</label>
            <input type="text" class="form-control" id="telefono_padre" name="telefono_padre"
                value="{{ estudiante.telefono_padre or '' }}">
        </div>
    </div>
    <hr>
    <h4>Datos de Acceso al Sistema</h4>
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="username" class="form-label">Usuario</label>
            <input type="text" class="form-control" name="username" value="{{ usuario.nombre_usuario }}" required>
        </div>
        <div class="col-md-6 mb-3">
            <label for="password" class="form-label">Contraseña</label>
            <input type="password" class="form-control" name="password" placeholder="Deja en blanco para no cambiarla">
        </div>
    </div>
    <button type="submit" class="btn btn-success">Guardar Cambios</button>
    <a href="{{ url_for('admin.listar_estudiantes') }}" class="btn btn-secondary">Cancelar</a>
</form>
{% endblock %}